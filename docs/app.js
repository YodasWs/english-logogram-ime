"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)})([function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)},function(module,exports,__webpack_require__){var modules=["ngRoute"];var dict={};Object.assign(dict,__webpack_require__(2));Object.assign(dict,__webpack_require__(3));Object.assign(dict,__webpack_require__(4));var $list=void 0;var list=[];function updateCompBox(word){clearCompBox();if(!word||typeof word!=="string")return;dictStartWith(word.toLowerCase()).forEach(function(word){var li=document.createElement("li");li.innerHTML=word;$list.appendChild(li);list.push(word)})}function clearCompBox(){$list.innerHTML="";list=[]}function onReady(fn){var c=false;document.addEventListener("readystatechange",function(e){if(c)return;if(["interactive","complete"].includes(document.readyState)){c=true;fn(e)}})}onReady(function(){$list=document.querySelector("#composition");console.log("Sam, DOM ready :)");var boxes=[].concat(_toConsumableArray(document.querySelectorAll("textarea")));console.log("Sam, "+boxes.length+" box"+(boxes.length!=1?"es":""));boxes.forEach(function(textarea){var composing={start:false,is:false};textarea.addEventListener("input",function(e){if(e.isComposing)composing.is=e.isComposing;var txtarea=e.target;var strSearch=txtarea.value;var replacement=null;if(txtarea.selectionStart===txtarea.selectionEnd){strSearch=strSearch.substr(0,txtarea.selectionEnd)}else{strSearch=strSearch.substr(txtarea.selectionStart,txtarea.selectionEnd)}var re=/\b[a-z']+$/i,lastWord=void 0;var end=re.exec(strSearch);if(Array.isArray(end)){lastWord=end[0].toLowerCase()}switch(e.inputType){case"insertText":if(e.data.match(/\s/)){if(composing.is){re=new RegExp("([a-z']+)"+e.data+"$","i");end=re.exec(strSearch);if(Array.isArray(end)){lastWord=end[1].toLowerCase();if(dict[lastWord]||list.length===1){var word=list.length===1?list[0]:Array.isArray(dict[lastWord])?dict[lastWord][0]:dict[lastWord];replacement=""+word+e.data}}}composing.is=false;clearCompBox()}else if(isLetter(e.data)||e.data==="'"){if(!composing.is){composing.start=end.index}composing.is=true;updateCompBox(lastWord)}else if(isNumeric(e.data)){if(composing.is){var num=Number.parseInt(e.data,10)-1;re=new RegExp("([a-z']+)"+e.data+"$","i");end=re.exec(strSearch);if(Array.isArray(end)&&list[num]){replacement=list[num]+" ";composing.is=false;clearCompBox()}}}break;case"insertLineBreak":composing.is=false;clearCompBox();break;case"deleteContentBackward":if(composing.is){if(strSearch.length<=composing.start){composing.is=false;clearCompBox()}else{updateCompBox(lastWord)}}break;default:console.log(e);}if(typeof replacement==="string"){txtarea.value=txtarea.value.substr(0,composing.start)+replacement+txtarea.value.substr(txtarea.selectionEnd);txtarea.setSelectionRange(composing.start+replacement.length,composing.start+replacement.length)}},false)})});function isLetter(c){return c.toLowerCase()!==c.toUpperCase()}function isNumeric(c){return Number.isFinite(c)}function dictStartWith(word){word=word.toLowerCase();var list=[];for(var i in dict){if(i.startsWith(word)){if(typeof dict[i]==="string")list.push(dict[i]);if(Array.isArray(dict[i]))list=list.concat(dict[i])}}return list.unique()}Array.prototype.unique=function(){var _this=this;return this.filter(function(val,i){return _this.indexOf(val)===i})}},function(module,exports){module.exports={"i":"\u6211","me":"\u6211","my":"\u6211\u7684","mine":"\u6211\u7684","you":"\u4F60","your":"\u4F60\u7684","yours":"\u4F60\u7684","he":"\u4ED6","him":"\u4ED6","his":"\u4ED6\u7684","she":"\u5979","her":"\u5979","hers":"\u5979\u7684","it":"\u5B83","its":"\u5B83\u7684","we":"\u6211\u4EEC","us":"\u6211\u4EEC","our":"\u6211\u4EEC\u7684","ours":"\u6211\u4EEC\u7684","they":"\u4ED6\u4EEC","them":"\u4ED6\u4EEC","their":"\u4ED6\u4EEC\u7684","theirs":"\u4ED6\u4EEC\u7684"}},function(module,exports){module.exports={"one":"\u4E00","two":"\u4E8C","three":"\u4E09","four":"\u56DB","five":"\u4E94","six":"\u516D","seven":"\u4E03","eight":"\u516B","nine":"\u4E5D","ten":"\u5341","hundred":"\u767E","thousand":"\u5343","above":"\u4E0A","below":"\u4E0B","left":"\u5DE6","right":"\u53F3","middle":"\u4E2D","large":"\u5927","big":"\u5927","small":"\u5C0F","moon":"\u6708","month":"\u6708","sun":"\u65E5","day":"\u65E5","year":"\u5E74","early":"\u65E9","tree":"\u6728","woods":"\u6797","mountain":"\u5C71","river":"\u5DDD","soil":"\u571F","sky":"\u7A7A","field":"\u7530","heaven":"\u5929","raw":"\u751F","uncooked":"\u751F","flower":"\u82B1","grass":"\u8349","insect":"\u866B","dog":"\u72AC","person":"\u4EBA","name":"\u540D","female":"\u5973","woman":"\u5973","male":"\u7537","man":"\u7537","child":"\u5B50","eye":"\u76EE","ear":"\u8033","mouth":"\u53E3","hand":"\u624B","foot":"\u8DB3","see":"\u898B","sound":"\u97F3","power":"\u529B","air":"\u6C14","yen":"\u5186","enter":"\u5165","exit":"\u51FA","stand":"\u7ACB","rest":"\u4F11","previous":"\u5148","evening":"\u5915","root":"\u672C","text":"\u6587","character":"\u5B57","study":"\u5B66","school":"\u6821","village":"\u6751","town":"\u753A","forest":"\u68EE","correct":"\u6B63","water":"\u6C34","fire":"\u706B","gem":"\u7389","king":"\u738B","stone":"\u77F3","bamboo":"\u7AF9","thread":"\u7CF8","shellfish":"\u8C9D","vehicle":["\u8ECA","\u8F66"],"gold":"\u91D1","rain":"\u96E8","red":"\u8D64","blue":"\u9752","green":"\u9752","white":"\u767D"}},function(module,exports){module.exports={"number":"","many":"\u591A","much":"\u591A","few":"\u5C11","a few":"\u5C11","a little":"\u5C11","ten thousand":"\u4E07","half":"\u534A","shape":"\u5F62","fat":"\u592A","thin":"\u7D30","wide":"\u5E83","long":"\u9577","leader":"\u9577","point":"\u70B9","circle":"\u4E38","intersect":"\u4EA4","light":"\u5149","corner":"\u89D2","horn":"\u89D2","measure":["\u8A08","\u8BA1"],"straight":"\u76F4","fix":"\u76F4","line":"\u7DDA","arrow":"\u77E2","weak":"\u5F31","strong":"\u5F37","high":"\u9AD8","same":"\u540C","parent":["\u89AA","\u4EB2"],"mother":["\u6BCD","\u5988","\u5ABD"],"mom":["\u6BCD","\u5988","\u5ABD"],"father":["\u7236","\u7238"],"dad":["\u7236","\u7238"],"older sister":["\u59C9","\u59D0"],"younger sister":"\u59B9","older brother":["\u5144","\u54E5"],"younger brother":"\u5F1F","oneself":"","friend":"\u53CB","body":"\u4F53","hair":"\u6BDB","head":"\u982D","face":"\u9854","neck":"\u9996","heart":"\u5FC3","time":"\u6642","weekday":"\u66DC","morning":"\u671D","daytime":"\u663C","night":"\u591C","minute":"\u5206","understand":"\u5206","week":"\u9031","spring":"\u6625","summer":"\u590F","fall":"\u79CB","autumn":"\u79CB","winter":"\u51AC","now":"\u4ECA","new":"\u65B0","old":"\u53E4","interval":["\u9593","\u95F4"],"direction":"\u65B9","north":"\u5317","south":"\u5357","east":["\u6771","\u4E1C"],"west":"\u897F","far":"\u9060","near":"\u8FD1","before":"\u524D","after":"\u5F8C","inside":"\u5185","outside":"\u5916","place":"\u5834","ground":"\u5730","country":"\u56FD","garden":["\u5712","\u56ED"],"valley":"\u8C37","field":"\u91CE","meadow":"\u539F","hometown":"\u91CC","city":"\u5E02","capital":"\u4EAC","wind":"\u98A8","snow":"\u96EA","cloud":["\u96F2","\u4E91"],"pond":"\u6C60","sea":"\u6D77","rock":"\u5CA9","star":"\u661F","room":"\u5BA4","door":"\u6238","house":"\u5BB6","home":"\u5BB6","temple":"\u5BFA","pass through":"\u901A","gates":["\u9580","\u95E8"],"road":"\u9053","talk":["\u8A71","\u8BDD"],"say":"\u8A00","answer":"\u7B54","voice":"\u58F0","hear":["\u805E","\u95FB"],"language":["\u8A9E","\u8BED"],"read":["\u8AAD","\u8BFB"],"write":"\u66F8","record":["\u8A18","\u8BB0"],"paper":"\u7D19","brush stroke":"\u753B","picture":"\u7D75","drawing":"\u56F3","craft":"\u5DE5","teach":"\u6559","clear":"\u6674","think":"\u601D","consider":"\u8003","know":"\u77E5","ability":"\u624D","reason":"\u7406","calculate":"\u7B97","make":"\u4F5C","origin":"\u5143","eat":"\u98DF","meat":"\u8089","horse":["\u99AC"],"cow":"\u725B","fish":["\u9B5A",""],"bird":["\u9CE5",""],"feather":"\u7FBD","chirp":["\u9CF4",""],"wheat":"\u9EA6","rice":["\u7C73"],"tea":"\u8336","color":"\u8272","colour":"\u8272","yellow":"\u9EC4","black":"\u9ED2","come":"","go":"","return":"","walk":"","run":"","stop":"","active":"","store":"","buy":"","sell":"","noon":"","steam":"","bow":"","meet":"","team":"","ship":"","bright":"","company":"","cut":"","electricity":["\u96FB","\u7535"],"every":"","fit":"","this":[],"hit":"","pedestal":"","music":"","pleasure":"","public":"","pull":"","section":"","song":"","sword":"","use":"","what":""}}]);